<h2>User History</h2>

<!-- Loading state -->
<div *ngIf="loading">
  <p>Loading user history...</p>
</div>

<!-- No history message -->
<div *ngIf="!loading && userHistory.length === 0">
  <p>No history found for this user.</p>
</div>

<!-- Display the user history -->
<div *ngFor="let record of userHistory" class="card">
  <h3>{{ record.category.name || 'Unknown Category' }}</h3>
  <p><strong>Success:</strong> {{ record.success }}</p>
  <p><strong>Failure:</strong> {{ record.failure }}</p>

  <!-- Display the list of items -->
  <ul *ngIf="record.items?.length">
    <li *ngFor="let item of record.items">
      {{ item.name }} - {{ item.description }}
    </li>
  </ul>

  <!-- Show message if no items are available -->
  <p *ngIf="!record.items?.length">No items available for this record.</p>
</div>
